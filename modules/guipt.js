import"https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js";const cloudFunctionURL="https://us-central1-guiruggiero.cloudfunctions.net/guipt",axiosInstance=axios.create({baseURL:cloudFunctionURL,timeout:4e3,retry:2,retryDelay:e=>1e3*e});axiosInstance.interceptors.response.use(null,(async e=>{const t=e.config;if(!t||!t.retry||e.response&&e.response.status<500&&e.response.status>=0)return Promise.reject(e);if(t.retryCount=t.retryCount||0,t.retryCount>=t.retry)return Promise.reject(e);t.retryCount++;const r=t.retryDelay(t.retryCount);return await new Promise((e=>setTimeout(e,r))),axiosInstance(t)}));export async function callGuiPT(e,t){return await axiosInstance.post("",null,{params:{history:e,prompt:t}}).catch((e=>{throw"GoogleGenerativeAIError"==e.name?console.error(`GuiPT - ${e.message}:`,e):console.error("GuiPT:",e),e}))}