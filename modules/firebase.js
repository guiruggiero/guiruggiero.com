import{getApp,getApps,initializeApp}from"https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";import{getFirestore,addDoc,collection,doc,updateDoc}from"https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore-lite.js";const firebaseConfig={apiKey:"AIzaSyDOa3qhxiNI_asmIo1In1UF_qNjO1qllBE",authDomain:"guiruggiero.firebaseapp.com",projectId:"guiruggiero",storageBucket:"guiruggiero.appspot.com",messagingSenderId:"49247152565",appId:"1:49247152565:web:eb614bed7a4cf43ed611fc"},firebaseApp=getApps().length?getApp():initializeApp(firebaseConfig),db=getFirestore(firebaseApp);let env="v1";window.location.href.includes("ngrok")&&(env="dev");export async function createLog(e,t){try{return(await addDoc(collection(db,env),{origin:"guiruggiero.com",start:e,turnCount:1,turns:t})).id}catch(e){return console.error("Firebase - create:",e),null}}export async function logTurn(e,t,r,o){try{const i=doc(db,env,e);await updateDoc(i,{turnCount:t,duration:r,turns:o})}catch(e){console.error("Firebase - update:",e)}}